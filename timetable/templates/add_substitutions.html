{% extends "base.html" %}
{% load i18n %}

{% block title %}
{% blocktrans trimmed %}
Adding substitutions for {{ teacher }} on {{ date }}
{% endblocktrans %}
- Zorza
{% endblock %}

{% block content %}
<form class="add-substitutions2 form-small" method="post">
	<h2>{% trans "Adding substitutions â€” step 2" %}</h2>
	<p>
		{% with weekday=date|date:"l" %}
		{% url "teacher_timetable" teacher.id as url %}
		{% blocktrans %}Substitutions for <a href="{{ url }}">{{ teacher }}</a> on {{ date }} ({{ weekday }}). {% endblocktrans %}
		{% endwith %}
	</p>
	{% csrf_token %}
	{{ formset.non_field_errors }}
	{{ formset.management_form }}
	<table>
		{% for form in formset.forms %}
		{% if forloop.first %}
		<tr>
			<th>{% trans "No." context "timetable header" %}</th>
			<th>{% trans "Substitute" %}</th>
			<th>{% trans "Delete?" %}</th>
		</tr>
		{% endif %}
		<tr>
			{% for field in form.visible_fields %}
			<td>
				{% if forloop.first %}
				{% for hidden in form.hidden_fields %}
				{{ hidden }}
				{% endfor %}
				{% endif %}
				{{ field }} {{ field.errors }}
			</td>
			{% endfor %}
		</tr>

		{% endfor %}
	</table>
	<p class="text-center">
		<a class="button" href="{% url "add_substitutions1" %}">{% trans "Back" %}</a>
		<button type="submit" class="button-primary">
			{% trans "Save" %}
		</button>
	</p>
</form>
{% endblock %}
